@model List<AcunmedyaAkademiProject2.Entities.Product>

@{
    int counter = 0;
}
<style>
    .cream_section::before {
        content: none;
    }
    .cream_section::after {
        content: none;
    }
    .cream_img img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        border-radius: 10px;
    }
</style>
<div class="cream_section layout_padding">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="cream_taital">Öne Çıkan Tatlılar</h1>
                <p class="cream_text"> En sevilen tatlı çeşitleriyle tanışın!</p>
            </div>
        </div>

        @foreach (var item in Model)
        {
            if (counter % 3 == 0)
            {
                @:<div class="cream_section_2">
                    @:<div class="row">
                    }
                    <div class="col-md-4">
                        <div class="cream_box">
                            <div class="cream_img"><img src="@item.ImageUrl" style="width:500px; height:250px;"></div>
                            <div class="price_text">@item.Price.ToString("0") ₺</div>
                            <h6 class="strawberry_text">@item.ProductName</h6>
                            <div class="cart_bt">
                                <a href="#" onclick="showAlert('@item.ProductName', '@item.ImageUrl', '@item.Description'); return false;">Detaylar</a>
                            </div>
                        </div>
                    </div>
                    counter++;
                    if (counter % 3 == 0 || counter == Model.Count)
                    {


                    @:</div>
                @:</div>
            }
        }
        <div class="seemore_bt"><a href="/Product/Index">Tüm Ürünleri Gör</a></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    function showAlert(productName, imageUrl, Description) {
        var formattedDescription = Description.replace(/\n/g, '<br>');

        Swal.fire({
            title: productName,
            html: "<strong>İçindekiler</strong><br><br>" + formattedDescription,
            imageUrl: imageUrl,
            imageWidth: 300,
            imageHeight: 250, //200
            imageAlt: "Ürün Resmi",
            confirmButtonText: 'Kapat',
            confirmButtonColor: '#dc3545',
        });
    }
</script>